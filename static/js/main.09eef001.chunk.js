(this.webpackJsonptax_calculator=this.webpackJsonptax_calculator||[]).push([[0],{127:function(e,t,c){"use strict";c.r(t);var s=c(5),a=c(3),n=c.n(a),r=c(23),l=c.n(r),i=(c(75),c(43));c(80);var o={SET_CURRENT_USER:"SET_CURRENT_USER"};var j=c(34);c(131),c(82);j.a.initializeApp({apiKey:"AIzaSyBYrIABkFQh7pj3Gtdk2y9SGqjunNG9AlA",authDomain:"huwngnosleeppp.firebaseapp.com",projectId:"huwngnosleeppp",storageBucket:"huwngnosleeppp.appspot.com",messagingSenderId:"533381222168",appId:"1:533381222168:web:fa9a112734c4810710186d"});const d=j.a.auth(),h=(j.a.firestore(),new j.a.auth.GoogleAuthProvider);h.setCustomParameters({prompt:"select_account"});const b=()=>d.signInWithPopup(h);j.a;var x=c(136),u=c(137);class p extends a.Component{constructor(){super(),this.state={email:"",password:""}}render(){return Object(s.jsxs)(x.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",justifyContent:"center",marginTop:30},children:[Object(s.jsx)("h4",{children:"Personal Income Tax Calculator"}),Object(s.jsxs)(u.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:20},onClick:b,children:[Object(s.jsx)("p",{style:O.text,children:"Sign in with Google"}),Object(s.jsx)("ion-icon",{style:O.icon,name:"logo-google"})]})]})}}const O={text:{fontWeight:"bold",margin:"0 5px"},icon:{height:"1.5rem",width:"1.2rem",margin:"0 5px"}};var f=c(15),y=c(33),m=c.n(y),g=c(37),S=c(28),T=c(139),v=c(140),C=c(141),w=c(142),N=c(143),U=c(144),D=c(145),k=c(146),E=c(147),R=c(148),I=c(149),_=c(10),A=c.n(_),M=c(50),P=c.n(M),V=(c(61),c(62),c(27)),G=c(64),W=c(138);class B extends n.a.Component{constructor(e){var t;super(e),t=this,this.fetchData=Object(g.a)(m.a.mark((function e(){var c,s,a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.props.currentUser,e.prev=1,e.next=4,fetch("https://huwngnosleeppp-default-rtdb.firebaseio.com/users/".concat(c.uid,"/history.json"));case 4:return s=e.sent,e.next=7,s.json();case 7:for(r in a=e.sent,n=[],a)n.push(a[r]);t.setState({data:n}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),this.state={data:[]}}componentDidMount(){this.fetchData()}countTotal(){let e=0,t=0;var c,s=Object(G.a)(this.state.data);try{for(s.s();!(c=s.n()).done;){const s=c.value;e+=s.salary,t+=s.tax}}catch(a){s.e(a)}finally{s.f()}return[e,t]}render(){return Object(s.jsxs)(W.a,{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Salary"}),Object(s.jsx)("th",{children:"Tax"}),Object(s.jsx)("th",{children:"Time"})]})}),Object(s.jsxs)("tbody",{children:[this.state.data.map(((e,t)=>Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:t+1}),Object(s.jsx)("td",{children:Object(s.jsx)(V.a,{value:e.salary,className:"foo",displayType:"text",thousandSeparator:!0,suffix:" VND",renderText:(e,t)=>Object(s.jsx)("p",Object(f.a)(Object(f.a)({},t),{},{children:"".concat(e)}))})}),Object(s.jsx)("td",{children:Object(s.jsx)(V.a,{value:e.tax,className:"foo",displayType:"text",thousandSeparator:!0,suffix:" VND",renderText:(e,t)=>Object(s.jsx)("p",Object(f.a)(Object(f.a)({},t),{},{children:"".concat(e)}))})}),Object(s.jsx)("td",{children:e.date})]}))),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:"T\u1ed5ng"}),Object(s.jsx)("td",{children:Object(s.jsx)(V.a,{value:this.countTotal.bind(this)()[0],className:"foo",displayType:"text",thousandSeparator:!0,suffix:" VND",renderText:(e,t)=>Object(s.jsx)("p",Object(f.a)(Object(f.a)({},t),{},{children:"".concat(e)}))})}),Object(s.jsx)("td",{children:Object(s.jsx)(V.a,{value:this.countTotal.bind(this)()[1],className:"foo",displayType:"text",thousandSeparator:!0,suffix:" VND",renderText:(e,t)=>Object(s.jsx)("p",Object(f.a)(Object(f.a)({},t),{},{children:"".concat(e)}))})}),Object(s.jsx)("td",{})]})]})]})}}function J({currentUser:e}){const t=Object(a.useState)(new Date),c=Object(S.a)(t,2),n=c[0],r=c[1],l=Object(a.useState)("1"),i=Object(S.a)(l,2),o=i[0],j=i[1],h=Object(a.useState)("0"),b=Object(S.a)(h,2),p=b[0],O=b[1],y=Object(a.useState)(null),_=Object(S.a)(y,2),M=_[0],G=_[1],W=Object(a.useState)(!1),J=Object(S.a)(W,2),Y=(J[0],J[1],Object(a.useState)(0)),z=Object(S.a)(Y,2),F=z[0],H=z[1],q=e=>{o!==e&&j(e)},K=function(){var t=Object(g.a)(m.a.mark((function t(c){var s,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(c),t.prev=1,t.next=4,fetch("https://huwngnosleeppp-default-rtdb.firebaseio.com//users/".concat(e.uid,"/history.json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tax:Number(c),salary:Number(p),date:n.toDateString()})});case 4:return s=t.sent,t.next=7,s.json();case 7:a=t.sent,console.log(a),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsxs)(x.a,{style:{display:"flex",flexDirection:"column",height:600,maxWidth:600,marginTop:30},children:[Object(s.jsx)("p",{children:"Hi there, ".concat(e.displayName,"!")}),Object(s.jsx)("p",{children:"Email: ".concat(e.email)}),Object(s.jsx)("b",{onClick:()=>d.signOut(),children:"Sign out"}),Object(s.jsxs)("div",{style:{width:"100%",flex:1,marginTop:30},children:[Object(s.jsxs)(T.a,{tabs:!0,children:[Object(s.jsx)(v.a,{style:{flex:1},children:Object(s.jsx)(C.a,{style:{flex:1,justifyContent:"center",alignSelf:"center",display:"flex"},className:A()({active:"1"===o}),onClick:()=>{q("1")},children:"Monthly Income Tax"})}),Object(s.jsx)(v.a,{style:{flex:1},children:Object(s.jsx)(C.a,{style:{flex:1,justifyContent:"center",alignSelf:"center",display:"flex"},className:A()({active:"2"===o}),onClick:()=>{q("2")},children:"History"})})]}),Object(s.jsxs)(w.a,{activeTab:o,children:[Object(s.jsx)(N.a,{tabId:"1",style:{flex:1,height:"100%"},children:Object(s.jsxs)(U.a,{style:{margin:20},children:[Object(s.jsx)(D.a,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(k.a,{children:Object(s.jsx)(E.a,{children:"Date: "})}),Object(s.jsx)(k.a,{children:Object(s.jsx)(P.a,{selected:n,onChange:e=>r(e)})})]})}),Object(s.jsx)(D.a,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(k.a,{children:Object(s.jsx)(E.a,{children:"Salary"})}),Object(s.jsx)(k.a,{children:Object(s.jsx)(R.a,{value:p,onChange:e=>O(e.target.value),style:{width:"70%",height:30,borderWidth:1,borderColor:"#333",borderRadius:0},placeholder:"Your salary, VND"})})]})}),Object(s.jsx)(D.a,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(k.a,{children:Object(s.jsx)(E.a,{children:"Dependent People"})}),Object(s.jsx)(k.a,{children:Object(s.jsx)(R.a,{type:"select",name:"selectMulti",id:"exampleSelectMulti",multiple:!0,style:{width:"70%",height:60,borderWidth:1,borderColor:"#333",borderRadius:0},children:[0,1,2,3,4,5,6,7,8,9,10].map((e=>Object(s.jsx)("option",{style:{color:e==F?"red":"black"},onClick:()=>H(e),children:e})))})})]})}),Object(s.jsx)(I.a,{onClick:()=>{if(new RegExp("^[0-9]+$").test(p)){const e=p-44e5*F-11e6;let t=0;return e<0?K(0):(e<=5e6?t=.05*e:e<=1e7?t=.1*e-25e4:e<=18e6?t=.15*e-75e4:e<=32e6?t=.2*e-165e4:e<=52e6?t=.25*e-325e4:e<=8e7?t=.3*e-585e4:e>8e7&&(t=.35*e-985e4),K(t.toFixed(0)))}},children:"Submit"}),null!=M&&Object(s.jsx)(D.a,{children:Object(s.jsxs)(u.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:30},children:[Object(s.jsx)("h3",{children:"Your income tax is:"}),Object(s.jsx)(V.a,{value:M,className:"foo",displayType:"text",thousandSeparator:!0,suffix:" VND",renderText:(e,t)=>Object(s.jsx)("h2",Object(f.a)(Object(f.a)({},t),{},{style:{marginLeft:10},children:"".concat(e)}))})]})})]})}),Object(s.jsx)(N.a,{tabId:"2",children:Object(s.jsx)(B,{currentUser:e})})]})]})]})}class Y extends a.Component{componentDidMount(){const e=this.props.setCurrentUser;d.onAuthStateChanged((t=>{e(t),console.log(t)}))}render(){return Object(s.jsx)("div",{className:"App",children:this.props.currentUser?Object(s.jsx)(J,{currentUser:this.props.currentUser}):Object(s.jsx)(p,{})})}}var z=Object(i.b)((({user:e})=>({currentUser:e.currentUser})),(e=>({setCurrentUser:t=>e((e=>({type:o.SET_CURRENT_USER,payload:e}))(t))})))(Y),F=c(24),H=c(67),q=c.n(H);const K={currentUser:null};var L=(e=K,t)=>{switch(t.type){case o.SET_CURRENT_USER:return Object(f.a)(Object(f.a)({},e),{},{currentUser:t.payload});default:return e}},Q=Object(F.c)({user:L});const $=[q.a];var X=Object(F.d)(Q,Object(F.a)(...$));const Z=document.getElementById("root");l.a.render(Object(s.jsx)(i.a,{store:X,children:Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(z,{})})}),Z)},80:function(e,t,c){}},[[127,1,2]]]);
//# sourceMappingURL=main.09eef001.chunk.js.map